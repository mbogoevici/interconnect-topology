router {
  mode: interior
  id: Router.A
}

listener {
  host: 0.0.0.0
  port: 5672
  authenticatePeer: no
  saslMechanisms: ANONYMOUS
}

listener {
  host: 0.0.0.0
  port: 15672
  authenticatePeer: no
  saslMechanisms: ANONYMOUS
  http: true
}

connector {
  name: naBroker
  host: 127.0.0.1
  port: 61616
  role: route-container
}

connector {
  name: emeaBroker
  host: 127.0.0.1
  port: 62626
  role: route-container
}

autoLink {
  addr: naSend
  dir: out
  phase: 0
  connection: naBroker
  externalAddr: testTopic
}

autoLink {
  addr: emeaSend
  dir: out
  phase: 0
  connection: emeaBroker
  externalAddr: testTopic
}

autoLink {
  addr: na
  dir: in
  phase: 0
  connection: naBroker
  externalAddr: testTopic
}

autoLink {
  addr: emea
  dir: in
  phase: 0
  connection: emeaBroker
  externalAddr: testTopic
}

autoLink {
  addr: global
  dir: in
  phase: 0
  connection: naBroker
  externalAddr: testTopic
}

autoLink {
  addr: global
  dir: in
  phase: 0
  connection: emeaBroker
  externalAddr: testTopic
}
